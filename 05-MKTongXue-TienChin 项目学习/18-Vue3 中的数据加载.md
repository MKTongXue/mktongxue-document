# 1 包含的课程

* 《056.前端轻量级状态管理框架Pinia_TienChin》
* 《057.前端网络请求封装思路_TienChin》


# 2 Vue3 中的数据加载

## 2.1 Pinia

（1）`Pinia` 也是一个状态管理工具，作用和 `Vuex` 基本上是一致的。`Pinia` 的用法和 `Vuex` 基本上一模一样，只有导入的时候有一些差异，其他的地方基本上都是一致的，所以，使用 `Pinia`，大家将之当作 `Vuex` 来使用即可。

（2）`Pinia` 是一个轻量级的状态管理库（相对于 `Vuex` 而言），`Pinia` 和 `Vuex` 的运行都是比较快的，在一些特殊情况下，`Pinia` 的运行效率甚至要高于 `Vuex`，最主要的原因还是因为 `Pinia` 是一个轻量级的框架，他的体积约 `1KB`。


## 2.1 前端请求的封装

（1）`VHR` 封装的请求工具类，将对应的请求方法做成了 `Vue` 的插件，在需要使用的地方，直接通过 `this.getRequest()` 去执行网络请求的。

（2）`tienchin` 将所有的网络请求统一封装起来，然后在需要做网络请求调用的地方，直接去调用对应的方法。
所有被封装的请求，都在 `src/api` 文件夹中

![api文件夹](http://image.mktongxue.com/202208/006.png)

- `login.js` 这个 `js` 文件中封装了所有和登录相关的网络请求方法，所有的请求方法都已经提前写好请求地址、请求参数、请求头等信息。

- `menu.js` 封装的就是所有和菜单相关的网络请求。

（3）登录请求，在需要登录的地方，直接调用这个方法，并传递相应的参数即可。

```javascript
// 登录方法
export function login(username, password, code, uuid) {
  const data = {
    username,
    password,
    code,
    uuid
  }
  return request({
    url: '/login',
    headers: {
      isToken: false
    },
    method: 'post',
    data: data
  })
}
```


# 3 结束
